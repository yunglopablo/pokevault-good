<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Pok√© Vault</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background: #111; color: #f5f5f5; margin: 0; padding: 0; }
    header { background: #1a1a1a; padding:1rem 2rem; display:flex; align-items:center; justify-content:space-between; border-bottom:2px solid #f5c518; }
    header img.logo { height:50px; }
    header nav a { color:#f5c518; text-decoration:none; font-weight:600; margin-left:1rem; }
    .hero { text-align:center; padding:3rem 2rem; }
    .hero h1 { color:#f5c518; font-size:2.5rem; margin-bottom:0.5rem; }
    .hero p { color:#ccc; font-size:1.2rem; }
    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:2rem; padding:2rem; }
    .product { background:#1a1a1a; padding:1rem; border-radius:12px; text-align:center; }
    .product img { width:100%; border-radius:8px; }
    .product h3 { margin:0.5rem 0; }
    .product p { color:#f5c518; margin:0.25rem 0; }
    .product button { margin-top:0.5rem; background:#f5c518; border:none; color:#111; font-weight:bold; padding:0.5rem 1rem; border-radius:6px; cursor:pointer; width:100%; }
    .product .stock { font-size:0.9rem; color:#ccc; margin-top:0.25rem; }
    footer { background:#1a1a1a; padding:1rem 2rem; text-align:center; color:#888; font-size:0.9rem; border-top:1px solid #333; }
    footer a { color:#f5c518; text-decoration:none; font-weight:500; }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="The Pok√© Vault Logo" class="logo" />
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About Us</a>
      <a href="cart.html">Cart üõí</a>
    </nav>
  </header>
  <section class="hero">
    <h1>Welcome to The Pok√© Vault</h1>
    <p>Shop authentic Pok√©mon TCG sealed products. Now accepting PayPal & Bitcoin.</p>
  </section>
  <section id="products" class="products"></section>
  <footer>
    Follow us on Instagram: <a href="https://instagram.com/ThePokeVaultBtc" target="_blank">@ThePokeVaultBtc</a><br>
    Secure checkout. Trusted seller. Pok√©mon authentic products.
  </footer>

  <script>
    // Initial stock levels
    const initialStock = {
      'Destined Rivals ETB': 20,
      'Prismatic Evolutions ETB': 20,
      'Surging Sparks ETB': 20,
      'White Flare ETB': 20,
      'Iono Premium Tournament Collection': 20,
      'Obsidian Flames ETB': 20
    };
    
    // Reset stock after 24 hours
    const STOCK_TTL = 2 * 60 * 1000; // 2 minutes in ms; // 24 hours in ms
    const now = Date.now();
    let stock = JSON.parse(localStorage.getItem('stock'));
    let timestamp = parseInt(localStorage.getItem('stockTimestamp'), 10);
    if (!stock || !timestamp || now - timestamp > STOCK_TTL) {
      stock = { ...initialStock };
      localStorage.setItem('stock', JSON.stringify(stock));
      localStorage.setItem('stockTimestamp', now.toString());
    }

    const products = [
      { name: 'Destined Rivals ETB', price: 100, img: 'destine.jpg' },
      { name: 'Prismatic Evolutions ETB', price: 120, img: 'prismatic.jpg' },
      { name: 'Surging Sparks ETB', price: 100, img: 'surging spa.jpg' },
      { name: 'White Flare ETB', price: 85, img: 'pokemoin white.jpg' },
      { name: 'Iono Premium Tournament Collection', price: 55, img: 'iono.jpg' },
      { name: 'Obsidian Flames ETB', price: 100, img: 'char.jpg' }
    ];

    const container = document.getElementById('products');
    products.forEach(prod => {
      const div = document.createElement('div'); div.className = 'product';
      div.innerHTML = `
        <img src="${prod.img}" alt="${prod.name}">
        <h3>Scarlet & Violet: ${prod.name}</h3>
        <p>$${prod.price} CAD</p>
        <p class="stock" id="stock-${prod.name}"></p>
        <button id="btn-${prod.name}">Add to Cart</button>
      `;
      container.appendChild(div);
      updateStockDisplay(prod.name);
      document.getElementById(`btn-${prod.name}`).onclick = () => addToCart(prod.name, prod.price);
    });

    function updateStockDisplay(name) {
      const count = stock[name] || 0;
      const stockEl = document.getElementById(`stock-${name}`);
      stockEl.textContent = `In Stock: ${count}`;
      const btn = document.getElementById(`btn-${name}`);
      btn.disabled = count < 1;
    }

    function addToCart(name, price) {
      if (stock[name] < 1) return;
      // decrement stock
      stock[name] -= 1;
      localStorage.setItem('stock', JSON.stringify(stock));
      updateStockDisplay(name);
      // add to cart
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.push({ name, price });
      localStorage.setItem('cart', JSON.stringify(cart));
      alert(`${name} added to cart.`);
    }
  </script>
</body>
</html>
